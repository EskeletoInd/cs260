{"remainingRequest":"/home/jake/Documents/cs260/cp4/front-end/node_modules/babel-loader/lib/index.js!/home/jake/Documents/cs260/cp4/front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jake/Documents/cs260/cp4/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jake/Documents/cs260/cp4/front-end/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jake/Documents/cs260/cp4/front-end/src/views/Admin.vue","mtime":1586121545735},{"path":"/home/jake/Documents/cs260/cp4/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jake/Documents/cs260/cp4/front-end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jake/Documents/cs260/cp4/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jake/Documents/cs260/cp4/front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2pha2UvRG9jdW1lbnRzL2NzMjYwL2NwNC9mcm9udC1lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkbWluJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsX3RhZ3M6IFtdLAogICAgICBhbGxfaXRlbXM6IFtdLAogICAgICBzZWxlY3RlZDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJdGVtcygpOwogIH0sCiAgbWV0aG9kczogewogICAgZmlsZUNoYW5nZWQ6IGZ1bmN0aW9uIGZpbGVDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHRoaXMuZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgIH0sCiAgICBzZWxlY3RJdGVtOiBmdW5jdGlvbiBzZWxlY3RJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZCA9IGl0ZW07CiAgICB9LAogICAgZ2V0SXRlbXM6IGZ1bmN0aW9uIGdldEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hcGkvaXRlbXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuYWxsX2l0ZW1zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5zZWxlY3RlZCA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoIi9hcGkvaXRlbXMvIiArIF90aGlzMi5zZWxlY3RlZC5faWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWQgPSBudWxsOwoKICAgICAgICAgICAgICAgIF90aGlzMi5nZXRJdGVtcygpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlZGl0SXRlbTogZnVuY3Rpb24gZWRpdEl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByMTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvdG8nLCBfdGhpczMuZmlsZSwgX3RoaXMzLmZpbGUubmFtZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9waG90b3MnLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHIxID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL2l0ZW1zLycgKyBfdGhpczMuc2VsZWN0ZWQuX2lkLCB7CiAgICAgICAgICAgICAgICAgIHBhdGg6IHIxLmRhdGEucGF0aAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMy5nZXRJdGVtcygpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,QAAA,EAAA,EATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,QAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA,WAAA,IAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,IAJA,EAIA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,CAAA,YAAA,CAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AAHA,iDAIA,IAJA;;AAAA;AAAA;AAAA;AAMA,gBAAA,OAAA,CAAA,GAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAfA;AAgBA,IAAA,UAhBA,wBAgBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,MAAA,CAAA,QAAA,KAAA,IADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAKA,KAAA,CAAA,MAAA,CAAA,gBAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CALA;;AAAA;AAMA,gBAAA,MAAA,CAAA,QAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,QAAA;;AAPA,kDAQA,IARA;;AAAA;AAAA;AAAA;AAUA,gBAAA,OAAA,CAAA,GAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KA5BA;AA6BA,IAAA,QA7BA,sBA6BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,QAFA,GAEA,IAAA,QAAA,EAFA;AAGA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AAHA;AAAA,uBAIA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA,QAAA,CAJA;;AAAA;AAIA,gBAAA,EAJA;AAAA;AAAA,uBAKA,KAAA,CAAA,GAAA,CAAA,gBAAA,MAAA,CAAA,QAAA,CAAA,GAAA,EAAA;AACA,kBAAA,IAAA,EAAA,EAAA,CAAA,IAAA,CAAA;AADA,iBAAA,CALA;;AAAA;AAQA,gBAAA,MAAA,CAAA,QAAA;;AARA;AAAA;;AAAA;AAAA;AAAA;AAUA,gBAAA,OAAA,CAAA,GAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAzCA;AAbA,CAAA","sourcesContent":["<template>\n<div class=\"admin\">\n  <h1>Welcome to the Admin Page!</h1>\n  <div class=\"heading\">\n    <div class=\"circle\">1</div>\n    <h2>Select a Picture</h2>\n  </div>\n  <section class=\"image-gallery\">\n    <div class=\"image\" v-for=\"item in this.all_items\" :key=\"item._id\" @click=\"selectItem(item)\">\n      <img v-if=\"selected !== null && item._id === selected._id\" :src=\"item.path\" class=\"selected\">\n      <img v-else :src=\"item.path\">\n    </div>\n  </section>\n  <div class=\"heading\">\n    <div class=\"circle\">2</div>\n    <h2>Delete a Picture</h2>\n  </div>\n  <button @click=\"deleteItem\">Delete</button>\n  <div class=\"heading\">\n    <div class=\"circle\">3</div>\n    <h2>Change a Picture</h2>\n  </div>\n  <div class=\"form\">\n    <input type=\"file\" name=\"photo\" @change=\"fileChanged\">\n    <button @click=\"editItem\">Upload</button>\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'Admin',\n  data() {\n    return {\n      all_tags: [],\n      all_items: [],\n      selected: null,\n    }\n  },\n  computed: {},\n  created() {\n    this.getItems();\n  },\n  methods: {\n    fileChanged(event) {\n      this.file = event.target.files[0]\n    },\n    selectItem(item) {\n      this.selected = item;\n    },\n    async getItems() {\n      try {\n        let response = await axios.get(\"/api/items\");\n        this.all_items = response.data;\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async deleteItem() {\n      if (this.selected === null) {\n        return;\n      }\n      try {\n        await axios.delete(\"/api/items/\" + this.selected._id);\n        this.selected = null;\n        this.getItems();\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async editItem() {\n      try {\n        const formData = new FormData();\n        formData.append('photo', this.file, this.file.name)\n        let r1 = await axios.post('/api/photos', formData);\n        await axios.put('/api/items/' + this.selected._id, {\n          path: r1.data.path,\n        });\n        this.getItems();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* Masonry */\n.admin {\n  padding-left: 100px;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\n.image-gallery {\n  column-gap: 1.5em;\n}\n\n.image {\n  margin: 0 0 0;\n  display: inline-block;\n  flex-grow: 0;\n}\n\n.image img {\n  width: 50%;\n  padding: 0;\n  margin: 0;\n}\n\n.image button {\n  padding: 0;\n  margin: 0;\n}\n\n.selected {\n  border: solid 6px red;\n}\n\n/* Masonry on large screens */\n@media only screen and (min-width: 1024px) {\n  .image-gallery {\n    column-count: 4;\n  }\n}\n\n/* Masonry on medium-sized screens */\n@media only screen and (max-width: 1023px) and (min-width: 768px) {\n  .image-gallery {\n    column-count: 3;\n  }\n}\n\n/* Masonry on small screens */\n@media only screen and (max-width: 767px) and (min-width: 540px) {\n  .image-gallery {\n    column-count: 2;\n  }\n}\n\n.heading {\n  display: flex;\n  margin-bottom: 20px;\n  margin-top: 20px;\n}\n\n.heading h2 {\n  margin-top: 8px;\n  margin-left: 10px;\n}\n\n.circle {\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  padding: 8px;\n  background: #333;\n  color: #fff;\n  text-align: center\n}\n\n/* Form */\ninput,\ntextarea,\nselect,\nbutton {\n  font-family: 'Montserrat', sans-serif;\n  font-size: 1em;\n}\n\n.form {\n  margin-right: 50px;\n}\n\n/* Uploaded images */\n.upload h2 {\n  margin: 0px;\n}\n\n.upload img {\n  max-width: 300px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}